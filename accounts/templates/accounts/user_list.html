<!-- user_list.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User List</title>
    <style>
        body{
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #1d1f27; /* Dark theme background */
            color: #e6e6e6; /* Light text */
            transition: background-color 0.3s ease, color 0.3s ease;
        }
.user-list-section {
    background-color: #1d1f27; /* Cyber purple background */
    color: #ffffff; /* White text color */
    padding: 20px;
    border-radius: 8px;
    margin: 20px;
    box-shadow: 0 2px 10px rgba(255, 255, 255, 0.2);
}

h1 {
    text-align: center;
    margin-bottom: 20px;
}

.search-container {
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
}

#searchInput {
    padding: 10px;
    width: 300px;
    border: 2px solid #ffffff; /* White border */
    border-radius: 4px;
    margin-right: 10px;
    outline: none;
    transition: border 0.3s;
}

#searchInput:focus {
    border-color: #00ff99; /* Light green on focus */
}

#searchButton {
    padding: 10px 20px;
    background-color: #00ff99; /* Light green button */
    border: none;
    border-radius: 4px;
    color: #000; /* Black text */
    cursor: pointer;
    transition: background 0.3s;
}

#searchButton:hover {
    background-color: #00cc7a; /* Darker green on hover */
}

.users {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
}

.user {
    background-color: #3b2b9c; /* Slightly darker purple for user cards */
    padding: 15px;
    border-radius: 8px;
    margin: 10px;
    width: 220px;
    text-align: center;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s;
}

.user:hover {
    transform: scale(1.05); /* Scale up on hover */
}

.user-image {
    width: 60px;
    height: 60px;
    border-radius: 50%; /* Circular profile images */
    border: 2px solid #9900ff; /* White border */
    margin-bottom: 10px;
    
}

.username {
    font-weight: bold;
    margin: 10px 0;
}

.profile-link {
    background-color: #ffffff; /* White button */
    color: #2a1a6d; /* Cyber purple text */
    padding: 5px 10px;
    border-radius: 4px;
    text-decoration: none;
    transition: background 0.3s, color 0.3s;
}

.profile-link:hover {
    background-color: #2a1a6d; /* Darker purple on hover */
    color: #ffffff; /* White text on hover */
}

.no-users {
    text-align: center;
    color: #ffffff; /* White text */
}
edit-icon {
    width: 10px;
}
.edit_button2 {
    background-color: #1d1f27;
    color: #fff;
    border: 0.5px solid #7432df;
    padding: 8px 16px;
    border-radius: 1px;
    cursor: pointer;
    font-family: 'Roboto', 'Helvetica Neue', 'Arial', sans-serif;
    font-weight: 600; /* Maximum weight */
    font-size: 0.9rem;
    transition: width 0.4s ease, background-color 0.3s ease;
    overflow: hidden;
    position: relative;
  }

  /* Button expansion and color change on hover */
  .edit_button2:hover {
    background-color: #7432df;
  }

  /* Custom pencil icon styling */
  .edit-icon {
    width: 50px;
    height: 50px;
    transition: transform 0.4s ease;
    margin-right: 8px;
  }

  /* Rotate the pencil icon on hover */
  .edit_button2:hover .edit-icon {
    transform: rotate(-20deg) scale(1.1);
  }

  /* Text styling with initial hidden state */
  .edit-text {
    opacity: 0;
    transform: translateX(-10px);
    transition: opacity 0.4s ease, transform 0.4s ease;
  }

  /* Text reveal on hover */
  .edit_button2:hover .edit-text {
    opacity: 1;
    transform: translateX(0);
  }
  .header {
    display: flex;
    flex-direction: column; /* Stack header items */
    align-items: center; /* Center items horizontally */
    padding: 20px;
    background-color: #1d1f27; /* Cyber purple background */
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
  }

  /* Logo styling */
  .logo {
    font-size: 24px;
    font-weight: bold;
    color: #fff;
    margin-bottom: 10px; /* Space below the logo */
  }

  /* Navigation links styling */
  .nav-links {
    list-style: none;
    display: flex; /* Flexbox for inline display */
    gap: 20px; /* Space between links */
    margin: 0;
    padding: 0;
  }

  .nav-links li {
    position: relative;
  }

  .nav-links a {
    text-decoration: none;
    color: #e0c9ff; /* Light purple color for links */
    font-size: 18px;
    transition: color 0.3s ease; /* Smooth color transition */
  }

  /* Link hover effect */
  .nav-links a:hover {
    color: #ff6f91; /* Bright pink on hover */
  }

  /* Animated underline effect */
  .nav-links a::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: -5px; /* Position the underline */
    height: 2px; /* Thickness of the underline */
    background-color: #ff6f91; /* Color of the underline */
    transform: scaleX(0); /* Start hidden */
    transition: transform 0.3s ease; /* Animation for the underline */
  }

  /* Show underline on hover */
  .nav-links a:hover::after {
    transform: scaleX(1); /* Show underline */
  }

  /* Toggle button styling for mobile */
  .toggle-button {
    display: none; /* Hidden by default */
    font-size: 24px;
    background-color: transparent; /* No background */
    color: #fff; /* White text */
    border: none; /* No border */
    cursor: pointer; /* Pointer cursor on hover */
  }

  /* Responsive styling */
  @media (max-width: 768px) {
    .nav-links {
      display: none; /* Hide links by default */
      flex-direction: column; /* Stack links vertically */
      gap: 10px; /* Space between links */
      margin-top: 15px; /* Space above links */
      width: 100%; /* Full width for dropdown */
    }

    .nav-links.show {
      display: flex; /* Show links when class is added */
    }

    .toggle-button {
      display: block; /* Show toggle button on mobile */
    }
    
    .header {
      flex-direction: column; /* Stack items in mobile view */
      align-items: flex-start; /* Align items to the start */
    }
  }
    </style>
    <script>
        function toggleNav() {
          const navLinks = document.getElementById('nav-links');
          navLinks.classList.toggle('show'); // Toggle the 'show' class to display/hide links
        }
      </script>
</head>
<body>
    <header class="header">
        <div class="logo">NETWORK</div>
        <button class="toggle-button" onclick="toggleNav()">â˜°</button> <!-- Toggle button -->
        <ul class="nav-links" id="nav-links">
          <li><a href="{% url 'home' %}">Profile</a></li>
          <li><a href="{% url 'user_list' %}">Search</a></li>
          <li><a href="{% url 'post_list' %}">Post List</a></li>
          {% if user.is_authenticated %}
          <li><a href="{% url 'logout' %}">Logout</a></li>
          {% else %}
            <li><a href="{% url 'login' %}">Login</a></li>
        {% endif %}
          <li><a href="{% url 'register' %}">Register</a></li>
          
          <li><a href="{% url 'edit_profile' user.id %}">Edit Profile</a></li>
        </ul>

      </header>
    <a href="{% url 'home' %}">
        <img class="edit-icon" src="https://cdn-icons-png.flaticon.com/128/7915/7915208.png" alt="Back"></a>
    <div class="user-list-section">
        <h1>Users List</h1>
        <div class="search-container">
            <form method="GET" action="{% url 'user_list' %}">
                <input type="text" id="searchInput" name="search" value="{{ query }}" placeholder="Search users...">
                <button type="submit" id="searchButton">Search</button>
            </form>
        </div>
        <div class="users">
            {% for user in users %}
                <div class="user">
                    {% if user.profile_image %}
            <img src="{{ user.profile_image.url }}" alt="{{ user.username }}'s profile image" class="user-image">
        {% else %}
        {% if user.is_authenticated %}
        {% if user.gender == 'M' %}
            <img src="https://pro2-bar-s3-cdn-cf.myportfolio.com/8ee9e0df6a57e6cb08ce8298364354c5/b4dd1698f1d995ddf6dc1caf45e69d0b5550752716af226bf5b6e140d0a48ae6175a3d2b28d2d24e_car_1x1.jpg?h=2f9a2d1908efc225350ee82423d2d7b5&url=aHR0cHM6Ly9taXItczMtY2RuLWNmLmJlaGFuY2UubmV0L3Byb2plY3RzL29yaWdpbmFsLzE5Yjg3YTI5Mjc0MzkzLjU1ZWFkMmU3MWFhNDMuanBn" alt="Profile Picture" class="user-image">
        {% elif user.gender == 'F' %}
            <img src="https://static.wikia.nocookie.net/dexter/images/e/e9/13_Female.jpg/revision/latest?cb=20200211173357" alt="Profile Picture" class="user-image">
        {% else %}
            <img src="https://w7.pngwing.com/pngs/1000/665/png-transparent-computer-icons-profile-s-free-angle-sphere-profile-cliparts-free.png" alt="Default Profile Picture" class="user-image">
        {% endif %}
    {% else %}
    {% endif %}
        {% endif %}
                    <p class="username">{{ user.username }}</p>
                    <a href="{% url 'profile' username=user.username %}" class="profile-link">View Profile</a>
                </div>
            {% empty %}
                <p class="no-users">No users available.</p>
            {% endfor %}
        </div>
    </div>

    <script>
        function searchUsers() {
            const input = document.getElementById('search');
            const filter = input.value.toLowerCase();
            const userCards = document.getElementsByClassName('user-card');

            for (let i = 0; i < userCards.length; i++) {
                const userName = userCards[i].getElementsByTagName('h3')[0];
                if (userName) {
                    const textValue = userName.textContent || userName.innerText;
                    userCards[i].style.display = textValue.toLowerCase().indexOf(filter) > -1 ? '' : 'none';
                }       
            }
        }
    </script>
</body>
</html>
